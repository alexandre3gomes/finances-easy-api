CREATE TABLE STATUS(
	ID_STATUS NUMERIC(2,0) IDENTITY(1,1) NOT NULL, 
	DESC_STATUS VARCHAR(500) NOT NULL
);
GO

ALTER TABLE STATUS ADD CONSTRAINT XPK_STATUS PRIMARY KEY NONCLUSTERED (ID_STATUS);
GO

CREATE TABLE RFD(
  ID_RFD NUMERIC(6,0) IDENTITY(1,1) NOT NULL, 
  COD_RFD VARCHAR(20) NOT NULL, 
  DESC_RFD VARCHAR(500) NOT NULL, 
  INITIAL_EST NUMERIC(5,1) NOT NULL, 
  CREATE_DATE DATE NOT NULL,
  ID_STATUS NUMERIC(2,0) NOT NULL
);
GO

ALTER TABLE RFD ADD CONSTRAINT XPK_RFD PRIMARY KEY NONCLUSTERED (ID_RFD);
GO

ALTER TABLE RFD ADD CONSTRAINT XFKRFD_STATUS FOREIGN KEY (ID_STATUS) REFERENCES STATUS(ID_STATUS);
GO

CREATE TABLE DEVELOPERS(
  ID_DEVELOPER NUMERIC(3,0) IDENTITY(1,1) NOT NULL, 
  NAME_DEVELOPER VARCHAR(40) NOT NULL,
  USERNAME VARCHAR(50),
  PASSWORD VARCHAR(100) 
);
GO

ALTER TABLE DEVELOPERS ADD CONSTRAINT XPK_DEVELOPERS PRIMARY KEY NONCLUSTERED (ID_DEVELOPER);
GO

CREATE TABLE SPRINT(
  ID_SPRINT NUMERIC(5,0) IDENTITY(1,1) NOT NULL, 
  DESC_SPRINT VARCHAR(20) NOT NULL, 
  STARTED_DATE DATE NOT NULL,
  FINAL_DATE DATE NOT NULL,
  ID_SM NUMERIC(3,0) NOT NULL
);
GO

ALTER TABLE SPRINT ADD CONSTRAINT XPK_SPRINT PRIMARY KEY NONCLUSTERED (ID_SPRINT);
GO

ALTER TABLE SPRINT ADD CONSTRAINT XFKSPRINT_SM FOREIGN KEY (ID_SM) REFERENCES DEVELOPERS(ID_DEVELOPER);
GO

CREATE TABLE DEV_PHASE(
  ID_PHASE NUMERIC(2,0) IDENTITY(1,1) NOT NULL, 
  NAME_PHASE VARCHAR(50) NOT NULL
);
GO

ALTER TABLE DEV_PHASE ADD CONSTRAINT XPK_PHASE PRIMARY KEY NONCLUSTERED (ID_PHASE);
GO

CREATE TABLE DEV_PHASE_TIME(
  ID_DEV_PHASE NUMERIC(8,0) IDENTITY(1,1) NOT NULL, 
  COD_ISSUE VARCHAR(20) NOT NULL, 
  ID_PHASE NUMERIC(2,0) NOT NULL, 
  ID_RFD NUMERIC(6,0) NOT NULL, 
  FINAL_EST NUMERIC(5,0) NOT NULL,
  REAL_TIME NUMERIC(5,0) NOT NULL,
  ID_SPRINT NUMERIC(5,0) NOT NULL,
);
GO

ALTER TABLE DEV_PHASE_TIME ADD CONSTRAINT XPK_DEV_PHASE PRIMARY KEY NONCLUSTERED (ID_DEV_PHASE);
GO

ALTER TABLE DEV_PHASE_TIME ADD CONSTRAINT XFKDEV_PHASE FOREIGN KEY (ID_PHASE) REFERENCES DEV_PHASE(ID_PHASE);
GO

ALTER TABLE DEV_PHASE_TIME ADD CONSTRAINT XFKDEV_RFD FOREIGN KEY (ID_RFD) REFERENCES RFD(ID_RFD);
GO

ALTER TABLE DEV_PHASE_TIME ADD CONSTRAINT XFKDEV_SPRINT FOREIGN KEY (ID_SPRINT) REFERENCES SPRINT(ID_SPRINT);
GO

CREATE TABLE POKER_PLANNING(
  ID_POKER_PLAN NUMERIC(8,0) IDENTITY(1,1) NOT NULL, 
  ID_DEVELOPER NUMERIC(3,0) NOT NULL,
  TIME_EST NUMERIC(5,0) NOT NULL,
  ID_DEV_PHASE NUMERIC(8,0) NOT NULL
);
GO

ALTER TABLE POKER_PLANNING ADD CONSTRAINT XPK_POKER_PLANNING PRIMARY KEY NONCLUSTERED (ID_POKER_PLAN);
GO

ALTER TABLE POKER_PLANNING ADD CONSTRAINT XFKPOKER_DEV FOREIGN KEY (ID_DEVELOPER) REFERENCES DEVELOPERS(ID_DEVELOPER);
GO

ALTER TABLE POKER_PLANNING ADD CONSTRAINT XFKPOKER_PHASE FOREIGN KEY (ID_DEV_PHASE) REFERENCES DEV_PHASE_TIME(ID_DEV_PHASE);
GO

CREATE TABLE ROLES(
  ID_ROLE NUMERIC(9,0) IDENTITY(1,1) NOT NULL,
  NAME_ROLE VARCHAR(50) NOT NULL
);
GO

ALTER TABLE ROLES ADD CONSTRAINT XPK_ROLES PRIMARY KEY NONCLUSTERED (ID_ROLE);
GO
