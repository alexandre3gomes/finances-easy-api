/*
 * This file was generated by the Gradle "init" task.
 */

plugins {
    id "java"
    id "org.springframework.boot" version "2.1.4.RELEASE"
    id "io.spring.dependency-management" version "1.0.10.RELEASE"
    id 'com.ewerk.gradle.plugins.querydsl' version "1.0.10"
}

repositories {
    mavenLocal()
    mavenCentral()
    maven {
        url "https://plugins.gradle.org/m2/"
    }
    maven {
        url = uri("https://repo.spring.io/snapshot")
    }

    maven {
        url = uri("https://repo.spring.io/milestone")
    }

    maven {
        url = uri("https://dl.bintray.com/kotlin/kotlin-eap")
    }

    maven {
        url = uri("https://repo.maven.apache.org/maven2")
    }
}

ext {
    springBootVersion = "2.1.4.RELEASE"
    queryDslVersion = "4.2.1"
}

querydsl {
    querydslDefault = true
    jpa = true
}

configurations {
    querydsl.extendsFrom implementation
}

compileQuerydsl {
    options.annotationProcessorPath = configurations.querydsl
}

def generatedClassesPath= "build/generated/sources/querydsl/main"

querydsl {
    jpa = true
    querydslSourcesDir = generatedClassesPath
}

dependencies {
    implementation "org.springframework.boot:spring-boot-starter-data-jpa"
    implementation "org.springframework.boot:spring-boot-starter-security"
    implementation "org.springframework.boot:spring-boot-starter-web"
    implementation "org.mockito:mockito-core:2.23.4"
    implementation "org.postgresql:postgresql:42.2.5"
    implementation "org.liquibase:liquibase-core:3.6.3"
    implementation "org.apache.commons:commons-lang3:3.8.1"
    implementation "com.google.guava:guava:23.2-jre"
    implementation "joda-time:joda-time:2.10.1"
    implementation "com.querydsl:querydsl-jpa:4.2.1"
    implementation "io.springfox:springfox-swagger2:2.9.2"
    implementation "io.springfox:springfox-swagger-ui:2.9.2"
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.4.30-M1"
    runtimeOnly "org.springframework.boot:spring-boot-devtools"
    testImplementation "org.springframework.boot:spring-boot-starter-test"
    testImplementation "org.springframework.security:spring-security-test"
    testImplementation "org.jetbrains.kotlin:kotlin-test:1.4.30-M1"
    compile "org.projectlombok:lombok:1.18.6"
    compile "com.querydsl:querydsl-apt:$queryDslVersion"
    annotationProcessor "org.projectlombok:lombok:1.18.6"
}

group = "net.finance"
version = "0.0.1-SNAPSHOT"
description = "Finances easy API"

tasks.withType(JavaCompile) {
    options.encoding = "UTF-8"
}

bootJar {
    mainClassName = 'net.finance.config.FinancesEasyApplication'
}

